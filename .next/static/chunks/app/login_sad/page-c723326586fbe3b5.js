(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4239],{88769:(e,s,n)=>{Promise.resolve().then(n.bind(n,93021))},93021:(e,s,n)=>{"use strict";n.r(s),n.d(s,{default:()=>d});var r=n(95155),a=n(12115),i=n(27364),t=n(76046),o=n(48173),l=n.n(o),u=n(37114),c=n.n(u);function d(){let[e,s]=(0,a.useState)(""),[n,o]=(0,a.useState)(""),[u,d]=(0,a.useState)(null),m=(0,t.useRouter)(),g=async()=>{d(null);try{let{data:s,error:r}=await i.N.from("users").select("user_id, name, email, address, phone").eq("email",e).eq("password",n);if(r)throw Error(r.message);if(s&&s.length>0){let e=s[0];sessionStorage.setItem("user",JSON.stringify(e)),alert("Login successful!"),window.dispatchEvent(new Event("loginStatusChange")),m.push("/discover")}else d("Invalid email or password")}catch(e){e instanceof Error?(console.error("Error logging in:",e.message),d(e.message)):(console.error("Unknown error:",e),d("An unexpected error occurred during login."))}};return(0,r.jsx)("div",{className:c().container,children:(0,r.jsxs)("main",{className:c().mainContent,children:[(0,r.jsx)("h1",{children:"Login"}),(0,r.jsx)("input",{type:"email",placeholder:"Email",value:e,onChange:e=>s(e.target.value),className:c().inputField}),(0,r.jsx)("input",{type:"password",placeholder:"Password",value:n,onChange:e=>o(e.target.value),className:c().inputField}),(0,r.jsx)("button",{onClick:g,className:c().loginButton,children:"Log In"}),u&&(0,r.jsx)("p",{className:c().errorMessage,children:u}),(0,r.jsxs)("div",{className:c().linkContainer,children:[(0,r.jsx)(l(),{href:"/forgot-password",className:c().link,children:"Forgot Password?"}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)(l(),{href:"/login/signup",className:c().link,children:"Sign Up if you're a new user"})]})]})})}},27364:(e,s,n)=>{"use strict";n.d(s,{N:()=>r});let r=(0,n(35974).UU)("https://mdxeolqfiosscdommyhc.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1keGVvbHFmaW9zc2Nkb21teWhjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mjk4ODc2NDMsImV4cCI6MjA0NTQ2MzY0M30.6FDluVEiMbeaxQI9BD633IhtxnEwh3f5WzGT5YDOylA",{auth:{persistSession:!0,autoRefreshToken:!0}})},76046:(e,s,n)=>{"use strict";var r=n(66658);n.o(r,"useParams")&&n.d(s,{useParams:function(){return r.useParams}}),n.o(r,"usePathname")&&n.d(s,{usePathname:function(){return r.usePathname}}),n.o(r,"useRouter")&&n.d(s,{useRouter:function(){return r.useRouter}})},37114:e=>{e.exports={container:"Login_container__9a2wf",mainContent:"Login_mainContent__xSkqf",inputField:"Login_inputField__ygWU_",loginButton:"Login_loginButton__fJCs5",errorMessage:"Login_errorMessage__qRxOJ",linkContainer:"Login_linkContainer__wuez7",link:"Login_link__zymhE"}}},e=>{var s=s=>e(e.s=s);e.O(0,[6861,5974,8173,8441,1517,7358],()=>s(88769)),_N_E=e.O()}]);