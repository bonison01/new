(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{41743:(e,t,r)=>{Promise.resolve().then(r.bind(r,96157)),Promise.resolve().then(r.bind(r,37565)),Promise.resolve().then(r.bind(r,76897)),Promise.resolve().then(r.bind(r,16868)),Promise.resolve().then(r.bind(r,88341)),Promise.resolve().then(r.t.bind(r,68563,23))},96157:(e,t,r)=>{"use strict";r.d(t,{CartProvider:()=>l,_:()=>i});var n=r(95155),o=r(12115),a=r(9806);let s=(0,o.createContext)(void 0),l=e=>{let{children:t}=e,[r,l]=(0,o.useState)([]),i=(0,a.createClientComponentClient)();(0,o.useEffect)(()=>{let e=localStorage.getItem("cart");e&&l(JSON.parse(e))},[]),(0,o.useEffect)(()=>{localStorage.setItem("cart",JSON.stringify(r))},[r]);let c=async e=>{let{data:t,error:r}=await i.from("new_products").select("name, price_inr").eq("id",e).single();return r?(console.error("Error fetching product details:",r.message),{name:"Unknown",price:void 0}):{name:t.name,price:t.price_inr}},u=async e=>{let t=await c(e.id);l(r=>r.find(t=>t.id===e.id)?r.map(t=>t.id===e.id?{...t,qty:t.qty+1}:t):[...r,{...e,...t,qty:1}])},d=r.reduce((e,t)=>e+(t.price?parseFloat(t.price)*t.qty:0),0);return(0,n.jsx)(s.Provider,{value:{cart:r,addToCart:u,updateQty:(e,t)=>{l(r=>r.map(r=>r.id===e?{...r,qty:t}:r))},removeFromCart:e=>{l(t=>t.filter(t=>t.id!==e))},clearCart:()=>l([]),totalPrice:d},children:t})},i=()=>{let e=(0,o.useContext)(s);if(!e)throw Error("useCart must be used within a CartProvider");return e}},37565:(e,t,r)=>{"use strict";r.d(t,{default:()=>h});var n=r(95155),o=r(76046),a=r(12115),s=r(48173),l=r.n(s),i=r(92888),c=r(5565),u=r(6296),d=r.n(u);let m=()=>{let[e,t]=(0,a.useState)(!1),[r,s]=(0,a.useState)(!1),[u,m]=(0,a.useState)(!1),h=(0,o.useRouter)();(0,a.useEffect)(()=>{let e=()=>{let e=sessionStorage.getItem("user"),t=sessionStorage.getItem("employee");s(!!e),m(!!t)};return e(),window.addEventListener("loginStatusChange",e),()=>{window.removeEventListener("loginStatusChange",e)}},[]);let v=()=>{sessionStorage.removeItem("user"),sessionStorage.removeItem("employee"),s(!1),m(!1),window.dispatchEvent(new Event("loginStatusChange")),h.push("/")};return(0,n.jsxs)("header",{className:d().header,children:[(0,n.jsx)("div",{className:d().logo,children:(0,n.jsx)(l(),{href:"/home",passHref:!0,children:(0,n.jsx)(c.default,{src:"/logo.png",alt:"Logo",width:50,height:50,className:d().logoImage})})}),(0,n.jsx)("button",{className:d().menuButton,onClick:()=>t(!e),"aria-label":"Toggle menu",children:(0,n.jsx)(i.ND1,{className:d().icon})}),(0,n.jsxs)("nav",{className:"".concat(d().nav," ").concat(e?d().open:""),children:[r&&!u&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l(),{href:"/discover",className:d().navButton,onClick:()=>t(!1),children:"Discover"}),(0,n.jsx)(l(),{href:"/book",className:d().navButton,onClick:()=>t(!1),children:"Delivery Rates"}),(0,n.jsx)(l(),{href:"/delivery_orders",className:d().navButton,onClick:()=>t(!1),children:"Delivery Orders"}),(0,n.jsx)(l(),{href:"/profile",className:d().navButton,onClick:()=>t(!1),children:"Profile"}),(0,n.jsx)("button",{onClick:v,className:d().logoutButton,children:"Log Out"})]}),u&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l(),{href:"/employee-dashboard",className:d().navButton,onClick:()=>t(!1),children:"Employee Dashboard"}),(0,n.jsx)(l(),{href:"/employee-dashboard",className:d().navButton,onClick:()=>t(!1),children:"Order Entry"}),(0,n.jsx)(l(),{href:"/orders",className:d().navButton,onClick:()=>t(!1),children:"Orders"}),(0,n.jsx)("button",{onClick:v,className:d().logoutButton,children:"Employee Logout"})]}),!r&&!u&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l(),{href:"/discover",className:d().navButton,onClick:()=>t(!1),children:"Discover"}),(0,n.jsx)(l(),{href:"/book",className:d().navButton,onClick:()=>t(!1),children:"Delivery Rates"}),(0,n.jsx)(l(),{href:"/searchOrders",className:d().navButton,onClick:()=>t(!1),children:"Search Order"}),(0,n.jsx)(l(),{href:"/login",className:d().navButton,onClick:()=>t(!1),children:"Log In"})]})]})]})};function h(){return["/admin","/admin/CreateOrder","/admin/billings","/admin/OrderData","/admin/TeamCommissions","/admin/vendor_data","/admin/VendorBills","/admin/TeamCommissions/[email]","/admin/VendorBills/[email]"].includes((0,o.usePathname)())?null:(0,n.jsx)(m,{})}},76897:(e,t,r)=>{"use strict";r.d(t,{default:()=>u});var n=r(95155),o=r(29653),a=r.n(o),s=r(48173),l=r.n(s),i=r(12115),c=r(76046);let u=()=>{let[e,t]=(0,i.useState)(!1),[r,o]=(0,i.useState)(!1),[s,u]=(0,i.useState)(!1);return(0,c.useRouter)(),(0,i.useEffect)(()=>{let e=()=>{let e=sessionStorage.getItem("user"),t=sessionStorage.getItem("employee");o(!!e),u(!!t)};return e(),window.addEventListener("loginStatusChange",e),()=>{window.removeEventListener("loginStatusChange",e)}},[]),(0,n.jsxs)("footer",{className:a().footer,children:[r&&(0,n.jsxs)("div",{className:a()["employee-links"],children:[(0,n.jsx)("div",{className:a()["footer-content"],children:(0,n.jsxs)("p",{children:["\xa9 ",new Date().getFullYear()," Mateng"]})}),(0,n.jsx)(l(),{href:"/search_order",className:a().navButton,children:"Search Orders"}),(0,n.jsx)(l(),{href:"/delivery-rates",className:a().navButton,children:"Delivery Rates"}),(0,n.jsx)(l(),{href:"/about-us",children:"About Us"})]}),!r&&!s&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:a()["footer-content"],children:(0,n.jsxs)("p",{children:["\xa9 ",new Date().getFullYear()," Mateng"]})}),(0,n.jsxs)("div",{className:a()["footer-right"],children:[(0,n.jsx)(l(),{href:"/about-us",children:"About Us"}),(0,n.jsx)(l(),{href:"/employee-login",children:"Employee Portal"}),(0,n.jsx)(l(),{href:"/teams",children:"Team Portal"})]})]})]})}},16868:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>s});var n=r(95155),o=r(12115);let a=(0,o.createContext)(void 0);function s(e){let{children:t}=e,[r,s]=(0,o.useState)(!1),[l,i]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{let e=localStorage.getItem("user"),t=localStorage.getItem("employee");s(!!e),i(!!t)},[]),(0,n.jsx)(a.Provider,{value:{isLoggedIn:r,isEmployeeLoggedIn:l,login:e=>{"user"===e&&(localStorage.setItem("user","true"),s(!0)),"employee"===e&&(localStorage.setItem("employee","true"),i(!0))},logout:()=>{localStorage.removeItem("user"),localStorage.removeItem("employee"),s(!1),i(!1)}},children:t})}},88341:(e,t,r)=>{"use strict";r.d(t,{TeamAuthProvider:()=>i});var n=r(95155),o=r(12115),a=r(27364),s=r(76046);let l=(0,o.createContext)(void 0);function i(e){let{children:t}=e,[r,i]=(0,o.useState)(null),[c,u]=(0,o.useState)(null),d=(0,s.useRouter)();(0,o.useEffect)(()=>{let e=sessionStorage.getItem("team");e&&i(JSON.parse(e))},[]);let m=async(e,t)=>{u(null);try{let{data:r,error:n}=await a.N.from("teams").select("id, team_name, owner_id").eq("team_name",e).eq("password",t);if(n)throw Error(n.message);if(r&&r.length>0){let e=r[0];i(e),sessionStorage.setItem("team",JSON.stringify(e)),window.dispatchEvent(new Event("teamLoginStatusChange")),d.push("/teams/dashboard")}else u("Invalid team name or password")}catch(e){e instanceof Error?u(e.message):u("An unexpected error occurred during login.")}};return(0,n.jsx)(l.Provider,{value:{team:r,errorMessage:c,login:m,logout:()=>{i(null),sessionStorage.removeItem("team"),d.push("/teams")}},children:t})}},27364:(e,t,r)=>{"use strict";r.d(t,{N:()=>n});let n=(0,r(35974).UU)("https://mdxeolqfiosscdommyhc.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1keGVvbHFmaW9zc2Nkb21teWhjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mjk4ODc2NDMsImV4cCI6MjA0NTQ2MzY0M30.6FDluVEiMbeaxQI9BD633IhtxnEwh3f5WzGT5YDOylA",{auth:{persistSession:!0,autoRefreshToken:!0}})},76046:(e,t,r)=>{"use strict";var n=r(66658);r.o(n,"useParams")&&r.d(t,{useParams:function(){return n.useParams}}),r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},68563:()=>{},29653:e=>{e.exports={footer:"Footer_footer__urBPH"}},6296:e=>{e.exports={header:"GlobalHeader_header__8vf0w",logo:"GlobalHeader_logo__5vGkI",calculateBtn:"GlobalHeader_calculateBtn__u99HN",logoImage:"GlobalHeader_logoImage__Hk6QT",nav:"GlobalHeader_nav__CNsZo",navButton:"GlobalHeader_navButton__nADfB",createTaskButton:"GlobalHeader_createTaskButton__ftCiz",icon:"GlobalHeader_icon__7FFgs",menuButton:"GlobalHeader_menuButton__5MuC3",open:"GlobalHeader_open__zbLjx",logoutButton:"GlobalHeader_logoutButton__gdRBo"}},93435:(e,t,r)=>{"use strict";r.d(t,{k5:()=>u});var n=r(12115),o={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},a=n.createContext&&n.createContext(o),s=["attr","size","title"];function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function u(e){return t=>n.createElement(d,l({attr:c({},e.attr)},t),function e(t){return t&&t.map((t,r)=>n.createElement(t.tag,c({key:r},t.attr),e(t.child)))}(e.child))}function d(e){var t=t=>{var r,{attr:o,size:a,title:i}=e,u=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,s),d=a||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),n.createElement("svg",l({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,o,u,{className:r,style:c(c({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),i&&n.createElement("title",null,i),e.children)};return void 0!==a?n.createElement(a.Consumer,null,e=>t(e)):t(o)}}},e=>{var t=t=>e(e.s=t);e.O(0,[4475,844,5974,8173,5565,9806,8441,1517,7358],()=>t(41743)),_N_E=e.O()}]);