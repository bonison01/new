(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7511],{3297:(e,s,t)=>{Promise.resolve().then(t.bind(t,55157))},55157:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o});var i=t(95155),a=t(12115),n=t(27364);let o=()=>{let[e,s]=(0,a.useState)({name:"",location:"",establishedYear:"",productOrService:"",contactNumber:"",website:"",description:"",notificationType:"email"}),t=t=>{let{name:i,value:a}=t.target;s({...e,[i]:a})},o=async s=>{s.preventDefault();let{data:t,error:i}=await n.N.from("businesses").insert([e]);if(i)console.error("Error inserting data:",i.message),alert("An error occurred while submitting the form.");else{alert("Form submitted successfully!");let s=await fetch("/api/send-notification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({notificationType:e.notificationType,email:e.website,name:e.name})});(await s.json()).success?alert("Notification sent successfully!"):alert("Failed to send notification.")}};return(0,i.jsxs)("div",{className:"p-8 max-w-lg mx-auto bg-gray-100 rounded-lg shadow-lg",children:[(0,i.jsx)("h1",{className:"text-2xl font-bold text-center text-gray-800 mb-6",children:"Business Registration Form"}),(0,i.jsxs)("form",{onSubmit:o,className:"flex flex-col space-y-4",children:[(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsx)("label",{className:"font-semibold text-gray-600 mb-2",children:"Name of the Business:"}),(0,i.jsx)("input",{type:"text",name:"name",value:e.name,onChange:t,required:!0,className:"p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsx)("label",{className:"font-semibold text-gray-600 mb-2",children:"Notification Preference:"}),(0,i.jsx)("select",{name:"notificationType",value:e.notificationType,onChange:t,className:"p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:(0,i.jsx)("option",{value:"email",children:"Email"})})]}),(0,i.jsx)("button",{type:"submit",className:"p-3 bg-blue-500 text-white rounded-lg font-bold hover:bg-blue-600 transition duration-300",children:"Submit"})]})]})}},27364:(e,s,t)=>{"use strict";t.d(s,{N:()=>i});let i=(0,t(35974).UU)("https://mdxeolqfiosscdommyhc.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1keGVvbHFmaW9zc2Nkb21teWhjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mjk4ODc2NDMsImV4cCI6MjA0NTQ2MzY0M30.6FDluVEiMbeaxQI9BD633IhtxnEwh3f5WzGT5YDOylA",{auth:{persistSession:!0,autoRefreshToken:!0}})}},e=>{var s=s=>e(e.s=s);e.O(0,[5974,8441,1517,7358],()=>s(3297)),_N_E=e.O()}]);