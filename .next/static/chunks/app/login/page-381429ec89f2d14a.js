(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4520],{34e3:(e,n,s)=>{Promise.resolve().then(s.bind(s,42386))},42386:(e,n,s)=>{"use strict";s.r(n),s.d(n,{default:()=>d});var r=s(95155),i=s(12115),a=s(27364),o=s(76046),t=s(48173),l=s.n(t),u=s(49697),c=s.n(u);function d(){let[e,n]=(0,i.useState)(""),[s,t]=(0,i.useState)(""),[u,d]=(0,i.useState)(null),h=(0,o.useRouter)(),m=async()=>{d(null);try{let{data:n,error:r}=await a.N.from("users").select("user_id, name, email, address, phone").eq("email",e).eq("password",s);if(r)throw Error(r.message);if(n&&n.length>0){let e=n[0];sessionStorage.setItem("user",JSON.stringify(e)),alert("Login successful!"),window.dispatchEvent(new Event("loginStatusChange")),h.push("/discover")}else d("Invalid email or password")}catch(e){e instanceof Error?(console.error("Error logging in:",e.message),d(e.message)):(console.error("Unknown error:",e),d("An unexpected error occurred during login."))}},g=e=>{"Enter"===e.key&&m()};return(0,r.jsx)("div",{className:c().container,children:(0,r.jsxs)("main",{className:c().mainContent,children:[(0,r.jsx)("h1",{children:"Login"}),(0,r.jsx)("input",{type:"email",placeholder:"Email",value:e,onChange:e=>n(e.target.value),onKeyDown:g,className:c().inputField}),(0,r.jsx)("input",{type:"password",placeholder:"Password",value:s,onChange:e=>t(e.target.value),onKeyDown:g,className:c().inputField}),(0,r.jsx)("button",{onClick:m,className:c().loginButton,children:"Log In"}),u&&(0,r.jsx)("p",{className:c().errorMessage,children:u}),(0,r.jsxs)("div",{className:c().linkContainer,children:[(0,r.jsx)(l(),{href:"/forgot-password",className:c().link,children:"Forgot Password?"}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)(l(),{href:"/login/signup",className:c().link,children:"Sign Up if you're a new user"})]})]})})}},27364:(e,n,s)=>{"use strict";s.d(n,{N:()=>r});let r=(0,s(35974).UU)("https://mdxeolqfiosscdommyhc.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1keGVvbHFmaW9zc2Nkb21teWhjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mjk4ODc2NDMsImV4cCI6MjA0NTQ2MzY0M30.6FDluVEiMbeaxQI9BD633IhtxnEwh3f5WzGT5YDOylA",{auth:{persistSession:!0,autoRefreshToken:!0}})},76046:(e,n,s)=>{"use strict";var r=s(66658);s.o(r,"useParams")&&s.d(n,{useParams:function(){return r.useParams}}),s.o(r,"usePathname")&&s.d(n,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(n,{useRouter:function(){return r.useRouter}})},49697:e=>{e.exports={container:"Login_container__6Q8wr",mainContent:"Login_mainContent__za6rF",h1:"Login_h1__2UrR9",inputField:"Login_inputField__AXpH4",loginButton:"Login_loginButton__7nD4H",errorMessage:"Login_errorMessage__f6l7x",linkContainer:"Login_linkContainer__diFaI",link:"Login_link__DxreT"}}},e=>{var n=n=>e(e.s=n);e.O(0,[1730,5974,8173,8441,1517,7358],()=>n(34e3)),_N_E=e.O()}]);